define(function (require, exports, module) {
    "use strict";

    var PreferenceManager = app.getModule("core/PreferenceManager");
    require("Elements/activity/UMLActivityElement");

    function UMLStep() {
        type.UMLActivityElement.apply(this, arguments);
    }
    // inherits from UMLClassifier
    UMLStep.prototype = Object.create(type.UMLAction.prototype);
    UMLStep.prototype.constructor = UMLStep;

    function UMLStepView() {
        type.UMLActivityElementView.apply(this, arguments);
        this.fillColor  = PreferenceManager.get("uml.class.fillColor", "#00FFFF") || PreferenceManager.get("view.fillColor", "#00FFFF");
        this.fillColor = "#00FFFF";
        this.iconName = "entity";
        this.base64Image = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAX+ElEQVR4Xu1dCXRUZZb+33tVlcpCFsjKkgQCirKoPYCtCCRhEVBbISQN4j4zzhn7SEsCbZ92zjRzpmdGJQTEM31ajw6KipgFxA1Qs4CNKyibCARCVkIWyF5Jquq9N/e+UDlJqFS9qvf/ryqBe44nB+u9+9/7//f9y73fvT9HhhvJhH+2aOf4AMFwK6g2npNIIhFIvEy4KE6WIwnHjySyFCRzvInIxKSozxErJ0tW+M0iSfJljieXOSI3EJFUSjx3QZalCyaD9dSL96wuh2el4dRl3FBX5pn9748zm0x3CxyZLRFuJs9J0zhOCGahlyjL7WA0J6HTvieSdKi7q+vrV5c+Us2iLb14DjkDeGLbBvOo8VNSeMIvkTh5icAJE/XqLGftyLJcKstkryjb9zaVnyp568kNXb6Ux9O2h4QBpOfmmsZFCosFgcsgsvwbjudHeKqoHs/LktgKS80eSZZyqxrkz/MyMqx6tKulDb82gMwvd97EGw3/TGT+cZ7norQoqve7siTXS0R8y2a1vrF10epSvdtX257/GYAsc1mFeQuIUcgSOP5etYr483NgDPtESczOSVlRRDhO9idZ/ccAYPeeWZy/TOC5f4cpfro/dRItWWCJOCrJ5D82Jaft8RdD8L0BwBe/rjhvKQz6XzheuJ1WZ/szH0kkR0Ri+7fNKRn7fC2nTw1gbVH+FF7gNwsct9DXHeGL9nFpsNmsmVsWrvzFF+33uEB8QI9u3x4cOzboP4nAr+Hg0O4DEfymSTgx2AmRt7QGX/7z6zP+xaK3YLobwNrCvEW8gX8NNniJeivrz+2JklwGe4Snc1LTC/WUUzcDePrwa0Gh7ZHZPM//q54KDrW2wBW9tfHC8ef1cijpYgCZRTtv4wXTTp7jJg+1AfGFvOBdPNndZV219d6VJ1m3z9wAskoKHoV1/nUYfDNrZYYTf0mSLBC0+sfslPSdLPViZgDJGzYYZiZPy4Hj3bMsFRjuvGFJyKmot/8B3MoiC12ZGMBTe94cMTIs4gNw3y5hIfT1xlOSxI/rKi2r3nnssQ7aulM3gOf2vRNnNAd+dr04dWgPyGD8YF/wo7W5a+krDz5cR7NNqgbw/Be58XYTX+jrEC3NDvInXrAcnO22WObTxCBQM4BnC3cmBQjGIjjmxftTpw03WURZKjfyXfNfnLO6jIZuVAwAv3zRKHx1Y/BpDIl7HmgE1o7OOTRmAs0GgGu+EBh48Ma0737gaD6By4GtpWuu1j2BJgPA3f6osLCDNzZ8NIdWPS+MKtZVtc3Tcjrw2gDwnD8jefpHN4566geMxZN4RKyol5Z56yfw2gDWlxRsveHkYTGknvNEZ1F28vIsz9/0MhyM7l2B57d70+Bwf8feYSUt5+qJpaaZWJstROy0K+AfY1gQCRoTTsJvjiGmiCDq3SCJ9lXeuI09ngGuBna+veHb7z+GktVOGg9XkOZfLoEL3zXsL3RiNIm+ewIRAgzUDAFjB9Zu252eBpA8MgAlpNsRdeRGVK//uFlbO0nNvlPE2tKpekCNIWYyZukUEhAWqPoddw9iFLGh7PhMT0LJHhnAupKC/4Wz/jPuBLmefre1dpHKj48Tu8XzFABDcABJeHA6wb+0CIzglY3zlj+nlp9qA0Akj9Fo2K+W8fXwnGSD5MHdR0m3B1/+wH4JjA0l8fdPg92Y6qFw27V2u32BWmSRqlafyc0NCYwRTtyAcfXv+7qvSknzae2xmdi5k0gYbA5pEexBzpfXl0/Ly8h0uyapMoD1Rfk5nEFYS0vA4cCn81KrMvXTIEOwiUz47UzCQYYrLRIl+8ubktOfd8fPbYsI3TYI/LHrHb3bryMhG7Tio+Okq77NXf+q/n30/MlkxIRI1c+7exDRxjZRnPpKasYZV8+6NgBM0zq4e//1itsfrOPwjF/1GV24Xkh8BBlz7xR34+rR75Isf5o9b/n9XhvAuqLc+3iD8ROPWr0OHq7e+zPpqG6iqilA5UnSY3cRnuIygALabPZ7N89P/3wwYQefASBXb/2B/CM3Aj39uw6PfWUfHKY6+A5m4+6bRoJGh1HlLUvSYTgWzhosF3FQA8gsyk8zGIR8qtIMA2aXf6wkjUcqmWgSfVcSiZgaR5233S49mJOa9pEzxs4NANb+9Qd2HR2uWbpe9zBs/i7kHQGPH5siIGGTY0nsHPoFTxBPuHHushnOZgGnBpD1Ze5CwWQcdN3wugOH+IvWJgu5kP8jMy0wWDRu6VQm/CFYlALBopKBzJ0bwIGCfcOlOAPN3rxytJo0/FBOk2U/XgGjgkni8juY8B/sRHCNAWBZFoMpwOXZkYmEQ4Bp9acnSMfFFmaSokMo6eFZzPjbLLZJmxdnnOvbwDUGsO5A/kaeE9Yxk8IFY5xiW85CLP1iU+86y5sNJCA8iASPjSChSVFECDT6QjQI8UqkdNu3yl9WxJsMZNLjv2bFnkii9FJ2StofBzUArMaVEG2o1rsgk9RtJ3XflJHWcw2QKj94LB3PyOHTxpDIO+IJB+dmPamzro1UfnSMaZO8QSCTnryLWRuiJNW1hTSOgzoENkcj/WaAzKKC3xgM/B5mEjhhjJG0GnCs2NrU76wDRgaTsYtvpRpGdadz08+1pP7r8+4e0/Q7xgJuemq2Jh7uXrbbxftyUld85tQA4Oj3Lvj8V7tjQut3W3u38lUhjMpTMoyAWPoDdGPprmS49PdzpAXQPixJDwOAaqdvb5q3/IlrDECpwDlhegP4/UNYKtnLG6b6yo9PkM66Vq+bw11z/IO3U3efOhOI9QYQ22S9B8A24DTQ8vOx6pi9a9Z04797l4CskrwlAm/onRq8HhWVLyJ2rg6+Kq0UMXU0ib5rglY2bt+/kHuYmQPI0bhgNpKJj97pVhatD4hW26JNCzK+6GcAesK8ZVEmZe9/T+ydvXsR73UCE0546A5ijmRSH7pXrtK3vyUI/GRJxlAz4AJmsGxC4S3bxc0bU1dk9p8BDuSX6pXe1Qa7/YvF9FwNwRBAGQuBFJZ05s1DOH+ybIKYo0cARvA2pm1cXQZOQ5j4ll4DwJLrIYFmNhEOJ+qwCKfGw4YQ8XWs6Mwbf4dPhxX3Hr4hCaPImEXKuDAnq6V99JbFj9Yqe4DM4oLfAuqHaS0ah0ayXSLntn8DTgm6vRmSCJ23kF3nlW77mkggO0vCSCBGBPUgUZTSN6Wk5SsGoOf6zwJNo3QYoGqTVs0E30DPJSC06fyOH+C4qmycmRGrcLAzgQEytiV7XtpaxQCySnZ9A0Wa2fkg+0jQdKKG1H97gUknRs5KJKNuG8uEdyVgALUcWdUIhZFAjAjqQaIsfr1p3orZcDUOIH8O5reyumZloDK1B0pJ61ntUGpnnYQewsQ0NtG0SwdLScsZNnI7dMEjIB4F9SC83GLjvLRwDku7BBoDtB/IVUpdBRE1C8OIGh6j8DhFm5pP1ZK6Q+xcwejZTFo5k7bYLvl12CyJ3LqS/Ad4XnAKF2IhTXn+T6S7iXq1s15R0SmEziHahDGL8twjtNn28gubFE1ik29ixt8ZY8gdWIoGsAYM4BW9Wj7/LjqAPPf9q5UveNxIJVBEncB1XQYGgKBQFoSDj0agJ0F08Hec3lk/pdvgCGhnUvRS6TveCCFVjKlTzLVzDErD9+XkyjEGt8TBVnziI/qt/w59JFnMBvBnfj5sANP0sryz/3eIoCuYJSGsCgNFtKnrcjup2HWUNlvFgYWOLL0JcgjzuHUHCg7wHD9Xr8bPvAEuVRegDxpyxMyZRMIn00u27JWJ0TIQMzuJhN9KHw7uri/hRtRibn1J/s+Q/MFg0XTevB4GwNKjVg/IpaaTF931rerfEQOQtBqmf4rVQtQ2Dr6AE4j/rwUQSKzal7Q+d/bNr5ni6lA+ZhtB4N1ReYVU7z+ltRt63w9NiiRxqb65RgGwAbU4A7TADMAuijKgq0rfhk2gld0mEJvDIkzjV/yK2iD1ZSQCfvHc9m+p8cbiEIFxdNPB1AoHS0Az7AF2depZ8EkPn7oBkMNJsKtmRed3wFHWCxjbQHkUQ0XPJYMTixrdYRPYCX6AXSKggHWD2Fbs/ol0NbJzBKHiylHwCXboWlreTF9t/hzGAfUFJd0NoHofpFZX0U2tHmjtmGo96cm71XwEXj1TW3SGtJ4HCLsGQiNNWj1LMVZfUY8B6LwE1H11Hurq1DLVGXfUEx9jF9xELCNiGrVQ+C2xJOYe+omgnsikLAF6bwKvHK8hDd+xCQc7lGeNrcOgEAaHtFDCMvY4RnfyKZtAvY+B7RVXSM3n9I5RzpTEIgtYbIEVaQ1pswxbe6KzcgzMKi44KQg83eI0LqTA3TPuolkSetVwg8WKWqEWMM4AnVgkyguvdtSMBDLyjnGsxFPNV3EE6e0KRunOv/sdHUj4IKrSrrs3WI+iTwAhbu2wqbVUXVGt0/j0XxETJLz6mnpcwToHg1Dpi4WnSVtZIzP9WYFCXAoMM0HXlXZiqWwi7VBACpNJncU8FOAHYv99dPbvq4MSDNI7HIwC4CkATwMsCIsvJ2b8AwvWHvF0zA5YTQzdx44kmNCbYkjcvEke8WL1MBwDN3JQ+/9ZqP2/lVUjzvgiuhY9gixoFKytkbDG+hVBFLH7ikVZKswjodZB/Ei/EE8BhGQW591vEAwf6y1R5YdHSWdDO/VmMQbA4kIG6oL6AUMFEvbHr96bIMlBbOZjF0qygIfjxgo3WEwIvuLaklLI4BVIyLgIEghHTSzoMJSJ67YlKLDwrIO7WnRLC7/aY7gmlsFx0N3tGp508EjICYiC3AAWhO5rdGM7CErokaC4UAg9RyjhZ1MYIJH9YGOnVndME8+euyxC98SQvgLWfPELaS+/rFZmt8+NXTJFqSVEnVQUhzaOMCvGMFRmB4DlHdqYsvwexQAgIvgKRATXUO84NwwHflWa2oevbxL4/3GKpk2dtS2k8pMTqtni7BAIs0MIbPbQIP1xdnCkiPcYQFF+BqxnH6jWkNaDFDF2+AVOWMkmt17rTOWYHbDKGcsMZk+GBWoFrYBaQQWKATz72btjA0OCqzxhQOvZK8eh+OJ35ZrZ4ZeGSwBtwhyGMjiy0tir+CL5Y7D+aG+zxf31voxLvSViICh0FrCBunso0GGCsQFMG9dCeOUKuoBpU9NJqA72DZ1Dkr/4KGAD+AsUiFCAwL0G4Kt9AApBI/GSVa0gvBYGr4ehQXGQ/ROqc/aPM7n73jTaawBri3MXGwXjXhqKesoD064x/VoLjYQCklG/Hq+FxTXvIni1FAGglPIYEpbdDrWM9CnC5qojbJy0cPOctC/7zQBYJi5q/NQ6PRHCfYXUWoUrDBA2sZQRNjRPKVjldOLjd1O9GMoba0cQSHmdGAOXTSsJmv0qhcLFkNvhYshHvWGs9Z3Gw5Xk8k9elCkCDcxRI0jElNEkdGKUVjH6vX/5pyrlOlga5Kv0r4Gyg/9/26bktKcc/79/qVgfxQVQmO7LHaR810+q+hoLRqP3DXf+IWPDCc8oq0Yr8qevMpEzoXrJ7Wyql6jqtKsP2UTbks0pGfucGgAWi06MNlRxPKdvnvJVac6/B3h7Z1ewgpMnEEqo9bhdI4gZEz91cLvizWAI+KBB/hCkgptDLrUEN8QPWiwaFYWKoS9BxdA/0FDaUx4XC88AUKQHbm0INMEXHg6h0wiomxPhk9y5ij3HqNwNiEtUwkPs6/+562+7JP1PTnLan/o+d819AWs+f2+S2Rx01h0zFr9jXKAb7gzA6d08CiBTOnzlrvSo+gRmgFrtM4C/HP86bd0TX52/sp9Tw+mVMetLdu2FZWAxi0EeSjxri8/CHQb1mkRWXNSIUOLdXtKqqR13L0Pw5xMI/jww8DmnUmUW5c03GAzKOXEoEN7iYaltVTKOZJtEYubQQQTTuCNgzILJJGQ8vSthvR0Pm92WvDk144AqAwDHB4BFC37050sjbe1dgLUDvB1g7iw1Lf3KztDKuMU4gAJd87JGMN4FPDr1Zp8vZa4ujxx0Xsoqzn9IEITd3loc7fewrEznpZYeCDaALLFq12BEMzEEi1oieslTwuQPLPvCIjztqSxwjfT92akZnzp7z8XVsTIkjn74Ay8Qn0FsXX3l7joh/qHbSWCUdrcrBqlq9kNCqwe1DdHdO2bxFDjJ6FP00VVfyKL43cbktLs8vjoWmfoiPoBXsmPOAEKpXX3l7gwAvYJxKTD9UiA0gka4MhZnApdhYTi1REyJI5EzE/wGL2i32xfkpKYXDtYNbremep8IaKReo7Loe59AufYOOqnaIC3ccrFZgXmLECziBZ5gskcw1PgNg8JUxhD6VUq9tWHw+38E5WAfdPW+WwN47oudtxhNphOAFaCPtXIiGc1afHgPL97Hez0SzFS2bmvnlK2LVpdqMgB8Wc/LJJtP10HWkEuZVY8nK5SQagF8+CDs/P8b1v4X3IngdgZABk8ffi1oRHvUCSgpz/x2JhrYAIfSuAwkQQgW/15PBD7/0oay49PfenKD27q2qntGL+cQ3spxDiqJ0cDg4aCPe2AaCYr1TRUuXxndYDeFe3YMdPK0XrCxig8hCNMA2bUUKBpQQhGAFrpeqC/cS43OqmcAZKaghiZM/wE2hGwuub8qceORCnL5RzogZRZIITUd64tnRFE+dupE9Z2OSyHVyOCRASDDNft3TjUFGL8D5BCzCgeegEPcKcmyaqi7tvX8Ha6EbRet1llbFq78xZN2PTYAZJ5Vkr9K4IUdnjTk6bPlBXCxxBXt9QRpuoU91UHP5x23gHnaplcGgI2wLixBq4gEIojGglt2OBOkeb+8KTn9eW909NoAAD4mJETzu+G2kWtizN4IMvAdvFfwwgd4VZu220XQEYQOoeFKcN7fXV4vpgPK16sCzF4bAHboM7m5IcExhgOwKWSSlI9gDARlaCG9CkZpkdHbd2Hd/74tuCEFMH4Wb3loMgBs9Pd7dsQYw8wHIbuYyY1HNZ9DCnmFdynkiiMI4gGsUMPedjqN9zC9q7ujed6rS5/SVLNWswGgMphcagoO/Erg+EQayvXlgbmDmDVkbfbcyPESSbxMcriRLIsX2uzSnL/Nz/AcqDCgM6gYAPLEUjM2yVzIwghwH4DVOTw5FeANnHh7GObqDyfCwbdZbKlblqwqp6EXNQNQ9gRwC3lQQMCXLJYDySYqNYabT0ORZhfVOQHMqnj+ImfED7vBh2n/dDvE92l8+Q7joWoAvXuC0MBPWSGJrC1dpOXsJdIJCRtWuMMPoWJ8gEAQghU0OlxJDzMEsblAmsYX5y0P3PBZO5rv17rmD2yfugEoMwGcDoKi+R2sjojeduJQfQ+Pei0hjY9o2e0PpjsTA8DGevwEhpdhOcgcqh3vD3Kjk6eyXv6Tt+d8dzowMwBHw+uK81bCYvwmy9iBOyWH4u/o25dF6Qms48NSfuYGgMJjACnAbHqfdRSRZUfpyRujesTatXLTvQ+fZt2uLgbQsyTkBCZEJ77oi3J0rDuRJn8Acm46eazmBU9Culra180AHEIisggyjl7XA16mpWP0fhdhXLIkPp2dkl6iZ9u6GwAq14MxHPlnjuMz4cY6g54K+1tbiN4Fx8bG8vqKv+RlZA6e7sRIcJ8YgEOX3xfl3mwShBwwhKWM9PNrtojb7+7uWucOus1SCZ8agEOxtYV5iwwC/1/gtmVT6pNlD3rBG9O1YJf/gquMHS/YevWKXxiAIjlkJGcW73pAEDhYGtiEl73qIYovYZYurPMbYJ3/bLBcPYrNqWLlPwbgEBcNoXBXsmAk64bL0oDFGeyyPXtzSvpBfxl4R3f7nwH0sdu1+3InCgHCP8kceQKutYlRZdJ+8hAWZIJpfhtU5XpzYFkWPxFREcOvDcDRUXBqMIa0jlrICXwGCPwQ3Hbul5keWIQRaknslmQxt2NEU2Hfalz+NOh9ZRkSBtBX4CVbtwbcemvsXHAtL5EFfgkYw2Rfdi4icyA8vVcU5L3VteJBRwVOX8rkSdtDzgAGKvfcvnfihICg2RxPZstEnsXL3DQ4TYzwpBPUPgsbuFYi8ycgb+17QGAe6uqUDmHJdbXv++NzQ94ArulU2ET+rmhHvFkwQTl0fjzHyeM5mU8gnBwpETmSIzz8JwcSmQsAXEnA1XWwG37vlgnXKROpkSdcI/zeCL+Xg1GVQ5GgCwab/PNLC9Kr/G0Tp9Wo/h81RlwM9UZSYQAAAABJRU5ErkJggg==';
        this.stereoTypeLabelText = "Step";
    }
    // inherits from UMLDomainDrivenElementView
    UMLStepView.prototype = Object.create(type.UMLActivityElementView.prototype);
    UMLStepView.prototype.constructor = UMLStepView;

    //# Backbone
    type.UMLStep      = UMLStep;
    type.UMLStepView  = UMLStepView;
});